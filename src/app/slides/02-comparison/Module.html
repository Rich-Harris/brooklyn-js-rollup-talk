<div class='module' style='width: {{totalWidth}}%'>
	<div class='cruft' style='width: {{cruftWidth}}%'></div>
	<div class='used' style='width: {{usedWidth}}%'></div>
	<div class='unused' style='width: {{unusedWidth}}%'></div>
</div>

<style>
	.module, .cruft, .used, .unused {
		float: left;
		height: 100%;
		transition: width 0.4s ease-out;
	}

	.module {
		border: 1px solid black;
	}

	.cruft {
		background-color: #FF851B;
		height: 100%;
	}

	.used {
		background-color: #3D9970;
	}

	.unused {
		background-color: #B10DC9;
	}
</style>

<script>
	component.exports = {
		computed: {
			totalWidth () {
				const minified = this.get( 'minified' );
				return 100 *
				       this.get( minified ? 'module.minifiedTotal' : 'module.total' ) /
					   this.get( 'total' );
			},

			cruftWidth () {
				const minified = this.get( 'minified' );
				return 100 *
				       this.get( 'module.cruft' ) /
					   this.get( minified ? 'module.minifiedTotal' : 'module.total' );
			},

			usedWidth () {
				const minified = this.get( 'minified' );
				return 100 *
				       this.get( minified ? 'module.minifiedUsed' : 'module.used' ) /
					   this.get( minified ? 'module.minifiedTotal' : 'module.total' );
			},

			unusedWidth () {
				const minified = this.get( 'minified' );
				return 100 *
				       this.get( minified ? 'module.minifiedUnused' : 'module.unused' ) /
					   this.get( minified ? 'module.minifiedTotal' : 'module.total' );
			}
		}
	}
</script>
